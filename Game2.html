<!DOCTYPE html>
<html lang="en" onclick="jump();">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width= , initial-scale=1.0">
    <title>Document</title>
</head>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap');
    *{
        padding: 0;
        margin: 0;
        box-sizing: border-box;
    }
    .container{
        position:relative;
        width:500px;
        height:300px;
        border: 1px solid black;
        overflow:hidden;
        
    }
    .player{
        position: relative;
        width:20px;
        height:50px;
        background-color: red;
        background-image:url("images/ninja.png");
        top:249px;
        left:5px;
    }
    .animate{
        animation: jump 0.3s  ;
    }
    @keyframes jump {
        0%{top:249px}
        50%{top: 230px}
        100%{top: 200px}
        
    }
    .game{
        display:flex;
        flex-direction: column;
        align-items: center;
        height:100vh;
    }

    .block{ 
        width:40px;
        height:20px;
        position:absolute;
        top:279px;
        left:460px;
        background-color: blue;
        animation: block 1s infinite linear;
    }
    @keyframes block{
        0%{left:460px}
        100%{left:-460px;}

    }
    #scoreDiv{
        justify-content: space-between;
        text-align: center;
        font-family: Montserrat;
        font-size: 80px;
        color:rgb(32, 32, 32);
        position: relative;
        top:100px;
    }
    #continue{
        display:none;
        position: absolute;
        top:100px;
        left:500px;
        width:400px;
        height:180px;
        border-radius: 25%;
        border:orange solid 3px;
        background:  linear-gradient(#e66465, #9198e5);

    }
    .text2{
        position:absolute;
        left:50px;
        top:50px;
        font-family:montserrat;
        font-size: 30px;

    }
    .yes{
        position:absolute;
        width:80px;
        height:35px;
        left:150px;
        top:130px;
        font-family:montserrat;
        background: linear-gradient(white,grey);
        border:none;
        color:rgb(59, 59, 59);
        cursor: pointer;
        transition: 0.3s ease;
        font-weight: bold;
    }
    .yes:hover{
        background-color: rgb(27, 27, 27);
        color:rgb(240, 240, 240);
    }
    
    
</style>


<body>
    <div class="game">
    <div class="container">
        <div class="player" id="player">

        </div>
        <div class="block" id="block">

        </div>
        
    </div>
    <div id="scoreDiv">
        <span class="text">
            Your Score is :
        </span><br>
          <span id="score"> 0</span> 
        </div>
        
    </div>
    <div id="continue">
            <span class="text2">It looks like you lost :(</span>
            <input type="button" class="yes" value="Play Again!" onclick="reload();">
        </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    var player=document.getElementById("player");
    var block=document.getElementById("block");
    var score=document.getElementById("score");
    var emoji = String.fromCodePoint(0x1F610);	
    var score=document.getElementById("score");
    var lost=document.getElementById("continue");
    var body=document.body;
    var game=document.querySelector(".game");
    const r=Math.floor(Math.random()*2)+1;
    
    
    function jump(){
        if(player.classList!="animate"){
        player.classList.add("animate");
        }
        setTimeout(function(){
            player.classList.remove("animate");
        },300);
        
        


    }
    var check=setInterval( function(){
        var playerHit=parseInt(window.getComputedStyle(player).getPropertyValue("top"));
        var blockHit=parseInt(window.getComputedStyle(block).getPropertyValue("left"));
        console.log(playerHit);
        if(playerHit>=229 &&  blockHit<20 && blockHit>0){
            alert("You lose! "+emoji);
            block.style.animation="none";
            block.style.display="none";
            score.innerText=0;
            game.style.opacity="40%";
           // lost.style.display="block";
            $(document).ready(function(){
                $("#continue").fadeIn(1000);
                
            })
            
           
            
            
        }
    },10);

    var win=setInterval(function(){
        var playerHit=parseInt(window.getComputedStyle(player).getPropertyValue("top"));
        if(playerHit<229 ){
            score.innerText++;
            
        }
    },150);
    function reload(){
        window.location.reload();
        lost.style.display="none";
    }
</script>
</html>