<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo List</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<style>
    @import url('http://fonts.cdnfonts.com/css/common-pixel');
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap');
    *{
        padding: 0;
        margin: 0;
        box-sizing: border-box;
    }
    body{
        background-image: linear-gradient(120deg,#f6d365,#fda085);
        color:white;
        font-family: 'Montserrat',sans-serif;
        min-height: 100vh;;
    }
    header{
        font-size: 1.5rem;;
        font-family: 'Common Pixel', sans-serif;
        font-weight: normal;       
    }
    header,form{
        min-height: 20vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    form input,form button{
        padding:0.5rem;
        font-size:2rem;
        border:none;
        background:white;
    }
    form button{
        color:#fda085;
        background: white;
        cursor: pointer;
        transition: all 0.5s ease;
    }
    form button:hover{
        background: #fda085;
        color: white;
    }
    .todo-container{
        display:flex;
        justify-content: center;
        align-items: center;
    }
    .todo-list{
        list-style: none;
        min-width:30%;
    }
    .todo{
        margin: 0.5rem;
        background: white;;
        color: black;
        display: flex;
        justify-content: space-between;
        font-size: 1.5rem;
        align-items: center;
        transition:all 0.5s ease;
    }
    .todo-item{
        flex:1;

    }
    .complete-btn,.trash-btn{
        background:#fda085 ;
        color: white;
        border: none;
        padding: 1rem;;
        cursor: pointer;
    }
    .complete-btn{
        background: rgb(11, 146, 11);
    }
    .todo-item{
        padding: 0rem 0.5rem;
    }
    .todo-input{
        outline: none;

    }
    .fa-trash,.fa-check{
        pointer-events: none;
    }
    .completed{
        text-decoration: line-through;
        opacity:0.5;
     
    }
    .fall{
        transform: translateY(8rem) rotateZ(20deg);
        opacity: 0;
    }
    select{
        -webkit-appearance: none;
        -moz-appearance: none;
        outline: none;
        border: none;
        appearance: none;
    }
    .select{
        margin: 1rem;
        position:relative;
        overflow: hidden;
        
    }
    select{
        color:#fda085 ;
        width:10rem;
        cursor: pointer;
        padding: 1rem;
    }
    .select::after{
        content:"\25BC";
        position: absolute;
        background-color: #ff6f47;
        top: 0;
        right: 0;
        padding: 1rem;
        pointer-events: none;
        transition: 0.3s ease;
    }
    .select:hover::after{
        background: white;
        color: #ff6f47;
    }

</style>
<body>
    <header>
        <h1>Hamza's To Do list</h1>
    </header>
    <form >
        <input type="text" class="todo-input">
        <button class="todo-button" type="submit">
            <i class="fas fa-plus-square"></i>
        </button>
        <div class="select">
            <select class="filter-todo">
                <option value="all">All</option>
                <option value="completed">Completed</option>
                <option value="uncompleted">Uncompleted</option>
            </select>
        </div>
    </form>
    <div class="todo-container">
        <ul class="todo-list">

        </ul>
    </div>
</body>
<script>
    //selctors
    var todoInput = document.querySelector('.todo-input');
    var todoButton = document.querySelector('.todo-button');
    var todoList = document.querySelector('.todo-list');
    var filterOption = document.querySelector('.filter-todo');


    //Event Listeners
    todoButton.addEventListener('click',addTodo);
    todoList.addEventListener('click',deleteCheck);
    filterOption.addEventListener('click',filterTodo);

    //functions
    function addTodo(event){
        //this prevent form from submitting
        event.preventDefault();
       var todoDiv = document.createElement('div');
       todoDiv.classList.add("todo");
       //creating an LI
       var newTodo = document.createElement('li');
       newTodo.innerText = todoInput.value;
       
       newTodo.classList.add('todo-item');
       todoDiv.appendChild(newTodo);
       //Check mark button
       var completedButton = document.createElement('button');
       completedButton.innerHTML = '<i class="fas fa-check"></i>';
       completedButton.classList.add('complete-btn');
       todoDiv.appendChild(completedButton);       
        //trash mark button
        var trashButton = document.createElement('button');
       trashButton.innerHTML = '<i class="fas fa-trash"></i>';
       trashButton.classList.add('trash-btn');
       todoDiv.appendChild(trashButton); 
       //attaching the div we just created to the ul  
        todoList.appendChild(todoDiv);
        todoInput.value='';
    }

    function deleteCheck(e){
        var item = e.target;

        if(item.classList[0] === 'trash-btn'){
            var todo = item.parentElement;
            todo.classList.add('fall');
            //when transition ends remove the whole thing
            todo.addEventListener('transitionend',function(){
                 todo.remove();
            })
           
        }
        if(item.classList[0] === 'complete-btn'){
            var todo = item.parentElement;
            todo.classList.toggle('completed');
        }
    }

    function filterTodo(e){
        var todos = todoList.childNodes;
        todos.forEach(function(todos){
            switch(e.target.value){
                case"all":
                todos.style.display="flex";
                break;
                case"completed":
                    if(todos.classList.contains(".completed")){
                        todos.style.display="flex";
                    }else{
                        todos.style.display="none";
                }
                break;
            }
        });
    }
</script>
</html>
